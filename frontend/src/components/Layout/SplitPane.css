/* ==========================================================================
   Split Pane Layout
   ========================================================================== */

.split-pane {
  display: flex;
  height: 100%;
  width: 100%;
  position: relative;
}

.split-pane-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  cursor: ew-resize;
  background: transparent;
  pointer-events: auto;
}

.split-pane-left,
.split-pane-right {
  height: 100%;
  overflow: hidden;
  transition: none;
}

.split-pane-left.dragging,
.split-pane-right.dragging {
  pointer-events: none;
  user-select: none;
}

.split-pane-left.dragging *,
.split-pane-right.dragging * {
  pointer-events: none !important;
  user-select: none !important;
}

.split-pane-left.dragging iframe,
.split-pane-right.dragging iframe {
  pointer-events: none !important;
}

/* --- Divider --- */
.split-pane-divider {
  width: 6px;
  background: var(--surface-void);
  cursor: ew-resize;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--duration-fast) var(--ease-out-expo);
  position: relative;
  user-select: none;
  flex-shrink: 0;
  border-left: 1px solid var(--border-subtle);
  border-right: 1px solid var(--border-subtle);
}

/* Resting vertical line */
.divider-line {
  width: 1px;
  height: 40px;
  background: var(--border-strong);
  border-radius: 1px;
  transition: all var(--duration-fast) var(--ease-out-expo);
}

.split-pane-divider:hover {
  width: 8px;
  background: var(--surface-highlight);
}

.split-pane-divider:hover .divider-line {
  background: var(--accent-primary);
  box-shadow: 0 0 8px var(--accent-primary-glow);
  height: 60px;
}

.split-pane-divider.dragging {
  width: 8px;
  background: var(--accent-primary-muted);
  border-color: var(--accent-primary);
  z-index: 10000;
}

.split-pane-divider.dragging .divider-line {
  background: var(--accent-primary);
  box-shadow: 0 0 16px var(--accent-primary-glow);
  height: 80px;
}

/* --- Transmitting State (active AI processing) --- */
.split-pane-divider.transmitting {
  background: var(--signal-active-muted);
  border-color: rgba(0, 229, 204, 0.1);
}

.split-pane-divider.transmitting .divider-line {
  background: var(--signal-active);
  box-shadow: 0 0 12px var(--signal-active-glow);
  animation: conduit-pulse 1.5s ease-in-out infinite;
}

/* Sweep overlay for transmitting */
.split-pane-divider.transmitting::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    180deg,
    transparent 0%,
    var(--signal-active-glow) 50%,
    transparent 100%
  );
  background-size: 100% 60%;
  background-repeat: no-repeat;
  animation: conduit-sweep 2s linear infinite;
  pointer-events: none;
}

/* Dragging cursor overrides */
.split-pane.dragging {
  cursor: ew-resize !important;
}

.split-pane.dragging * {
  cursor: ew-resize !important;
}

/* --- Mobile Responsive --- */
@media (max-width: 768px) {
  .split-pane {
    flex-direction: column;
  }

  .split-pane-left,
  .split-pane-right {
    width: 100% !important;
  }

  .split-pane-left {
    height: 50% !important;
  }

  .split-pane-right {
    height: 50% !important;
  }

  .split-pane-divider {
    width: 100%;
    height: 6px;
    cursor: ns-resize;
    flex-direction: row;
    border-left: none;
    border-right: none;
    border-top: 1px solid var(--border-subtle);
    border-bottom: 1px solid var(--border-subtle);
  }

  .divider-line {
    width: 40px;
    height: 1px;
  }

  .split-pane-divider:hover .divider-line {
    width: 60px;
    height: 1px;
  }
}
